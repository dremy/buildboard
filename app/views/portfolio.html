<div class="portfolio">
  <div class="utility-bar">
    <div class="container container-wide" ng-show="view=='propertiesList'">
      <div class="row">
        <div class="input-field col l12 m12 s12">
            <i class="material-icons prefix blue-text">search</i>
            <input type="text" ng-model="searchKey"/>
            <label for="propertySearch">Search</label>
        </div>
      </div>          
    </div>
  </div>
  <div class="container container-wide container-first" ng-show="view=='propertiesList'">      
    <div class="row">
      <div class="col s12">
        <div class="row center-align">
          <div class="col l4 m4 s12">
            <h2 class="blue-text">{{properties.length}}</h2>
            <p><strong>Properties</strong></p>
          </div>
          <div class="col l4 m4 s12">
            <h2 class="blue-text">{{propertiesUnits}}</h2>
            <p><strong>Units</strong></p>
          </div>
          <div class="col l4 m4 s12">
            <h2 class="blue-text">{{propertiesCosts | currency:"$":0}}</h2>
            <p><strong>Cost</strong></p>
          </div>
        </div>
        <div class="row">
          <div class="col l4 m6 s12">
            <button class="add-card" ng-click="startAddProperty()">
              <div class="card card-add center-align">
                <span class="glyphicon glyphicon-plus"></span>
                <div class="card-content">
                  <p>Add Property</p>
                </div>
              </div>
            </button>
          </div>
          <div class="col l4 m6 s12" ng-repeat="property in properties | filter:searchKey">
            <div class="card">
              <div class="card-image">
                <img src="/{{property.teaserPhoto}}" width="258" height="189">
                <span class="card-title">{{property.address}}</span>
                <span class="card-subtitle">{{property.city}}, {{property.state}} {{property.zip}}</span>
              </div>
              <div class="card-content">
                <p class="property-units"><label>Units:</label> {{property.units | number}}</p>
                <p class="property-type" ng-show="property.propertyType.length"><label>Type:</label> {{property.propertyType}}</p>
                <p class="property-tag" ng-show="property.tags.length"><i class="material-icons">label</i><label>Tags</label><span> {{property.tags[0]}}, {{property.tags[1]}}, {{property.tags[2]}}</span></p>                
                <p>{{property.purchasePrice | currency:"$":0}}
                <p>{{property.teaser}}</p>
              </div>
              <div class="card-action">
                <button class="btn blue-text white" ng-click="startEditProperty($index)">
                  <i class="material-icons">mode_edit</i>
                  <span>Edit</span>
                </button>
                <button class="btn blue-text white" ng-click="startRemoveProperty($index)">
                  <i class="material-icons">delete</i>
                  <span>Remove</span>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div ng-show="view=='addProperty'">
    <div ng-include="'views/addProperty.html'">
    </div>
  </div>
  <div ng-show="view=='editProperty'">
    <div ng-include="'views/editProperty.html'">
    </div>
  </div>
  <div ng-show="view=='removeProperty'">
    <div ng-include="'views/removeProperty.html'">
    </div>  
  </div> 
</div>